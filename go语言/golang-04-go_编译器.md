# 1. golang  编译器相关的处理逻辑 -

# 2. golang 编译器优化

## 1. 函数内连

golang 会对简单的函数进行内连（没有复杂语句的情况下 ， for range go select 递归函数或者复杂函数）

如果在函数前有注释 // go: noinline 表示默认不进行内连 , 或者编译的时候使用 -l 参数

```golang
// go: noinline
func test(){}
```

> 引申 ： 打印内连信息的方法可以在编译的时候增加 -m = 2 的标记

## 2. 逃逸分析

逃逸分析是golang 重要的优化， 用户标识变量内存被分配在栈区还是堆区

在传统的c/c++ 中 ， 如果返回一个栈上的对象指针，会导致函数执行完成线程被回收之后，对象被释放

### 2.1 golang 中栈堆分配原则

a. 指向栈上的对象指针不能被存储到堆中
b. 指向栈上对象的指针不能超过真对象的神明周期

> 具体的分析策略待补充

## 3. 闭包重写



