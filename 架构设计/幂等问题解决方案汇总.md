# 概念

> 幂等（idempotent、idempotence）是一个数学与计算机学概念，常见于抽象代数中。

　　在编程中，一个幂等操作的特点是其任意多次执行所产生的影响均与一次执行的影响相同。幂等函数，或幂等方法，是指可以使用相同参数重复执行，并能获得相同结果的函数。这些函数不会影响系统状态，也不用担心重复执行会对系统造成改变。例如，“getUsername()和setTrue()”函数就是一个幂等函数。

用通俗的话讲：就是针对一个操作，不管做多少次，产生效果或返回的结果都是一样的

## 举几个例子：

- 1.比如前端对同一表单数据的重复提交，后台应该只会产生一个结果。
- 2.比如我们发起一笔付款请求，应该只扣用户账户一次钱，当遇到网络重发或系统bug重发，也应该只扣一次钱。
- 3.比如发送消息，也应该只发一次，同样的短信如果多次发给用户，用户会崩溃。
- 4.比如创建业务订单，一次业务请求只能创建一个，不能出现创建多个订单。
还有很多诸如此类的，这些逻辑都需要幂等的特性来支持。

# 幂等性问题涉及的场景的解决方案

## 所有幂等性问题处理的时候的通用方法论-争用和强制排序

> 简单的说,就是产生一个唯一的标记变量,类似多线程的锁的机制实现幂等性操作

## 写入场景的幂等性问题

在进行数据库insert操作的时候,如果不进行幂等性处理将会导致数据库存在多条数据, 针对这种情况我们处理的方法一般有如下的方法进行处理

### 1. 